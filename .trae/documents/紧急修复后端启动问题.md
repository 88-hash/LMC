# 🚑 紧急修复计划：后端启动失败 (Error 500)

## 问题诊断
后端启动失败，导致前端登录和管理端均报 500 错误。
**核心原因**：`OrderItemMapper` 中混合使用了注解 (`@Select`) 和 XML 配置，且 XML 中对内部类的引用使用了 `$` 符号（`DashboardFullVO$TopGoods`），这在 MyBatis 中容易引发类加载或解析错误。此外，混合配置容易导致 `Mapped Statements` 冲突。

## 修复步骤

### 1. 修复 `OrderItemMapper.xml`
- **文件**: `backend/src/main/resources/mapper/OrderItemMapper.xml`
- **操作**: 将内部类引用符 `$` 替换为标准点号 `.`。
    - `com.leyi.snack.vo.DashboardFullVO$TopGoods` -> `com.leyi.snack.vo.DashboardFullVO.TopGoods`
    - `com.leyi.snack.vo.DashboardFullVO$CategoryShare` -> `com.leyi.snack.vo.DashboardFullVO.CategoryShare`

### 2. 清理并重启后端
- **操作**:
    1. 停止当前所有后端进程。
    2. 执行 `mvn clean` 清理旧的编译产物。
    3. 执行 `mvn spring-boot:run` 重新编译并启动。

### 3. 验证
- **C端登录**: 访问 `http://localhost:5173/login`，使用 `13722222222` 登录，验证是否成功。
- **B端登录**: 访问 `http://localhost:5173/admin/login`，使用 `13800000000` 登录，验证是否成功。
