# ğŸ æ”¶å®˜å†²åˆºè®¡åˆ’ (Step 16-17)

## ğŸ“… é˜¶æ®µäºŒï¼šåº—å‘˜ç®¡ç†æ¨¡å— (Step 16)

### 1. åç«¯å¼€å‘ (Backend)
- **Mapper (`AdminMapper`)**:
    - æ–°å¢ `insert`, `update`, `deleteById`, `selectAll`, `selectByPhone` (æŸ¥é‡ç”¨)ã€‚
- **Service (`AdminService`)**:
    - å®ç° `addClerk`: æ ¡éªŒæ‰‹æœºå·é‡å¤ï¼Œè®¾ç½®é»˜è®¤è§’è‰² `clerk`ã€‚
    - å®ç° `updateClerk`: ä»…æ›´æ–°éç©ºå­—æ®µã€‚
    - å®ç° `deleteClerk`: ç‰©ç†åˆ é™¤ã€‚
    - å®ç° `listAdmins`: è¿”å›åˆ—è¡¨ã€‚
- **Controller (`AdminController`)**:
    - æ–°å¢ `/admin/auth/clerk/add`, `/admin/auth/clerk/update`, `/admin/auth/clerk/delete`, `/admin/auth/list`ã€‚
    - **æƒé™æ ¡éªŒ**: åœ¨æ–¹æ³•å†…éƒ¨æ ¡éªŒå½“å‰ç™»å½•ç”¨æˆ·ï¼ˆä» Token è§£æï¼‰çš„ `role` æ˜¯å¦ä¸º `manager`ã€‚

### 2. å‰ç«¯ B ç«¯å¼€å‘ (Frontend - Admin)
- **è·¯ç”± (`router/index.js`)**:
    - æ–°å¢è·¯ç”± `/admin/manager` æŒ‡å‘ `views/admin/AdminManager.vue`ã€‚
- **èœå• (`views/admin/Layout.vue`)**:
    - åœ¨ä¾§è¾¹æ æ·»åŠ â€œåº—å‘˜ç®¡ç†â€å…¥å£ï¼Œå›¾æ ‡ä½¿ç”¨ `UserFilled`ã€‚
- **é¡µé¢ (`views/admin/AdminManager.vue`)**:
    - å®ç°è¡¨æ ¼å±•ç¤º (ID, å§“å, æ‰‹æœº, è§’è‰², æ—¶é—´)ã€‚
    - å®ç°æ–°å¢/ç¼–è¾‘å¼¹çª—ã€‚
    - æƒé™æ§åˆ¶ï¼šé `manager` ç”¨æˆ·éšè—æ“ä½œæŒ‰é’®æˆ–ç¦ç”¨ã€‚

---

## ğŸ‘¤ é˜¶æ®µä¸‰ï¼šä¸ªäººä¸­å¿ƒèµ„æ–™å®Œå–„ (Step 17)

### 1. åç«¯å¼€å‘ (Backend)
- **Mapper (`UserMapper`)**:
    - ç¡®ä¿å·²æœ‰ `update` æ–¹æ³•æ”¯æŒæ›´æ–° `name` å’Œ `avatar`ã€‚
- **Service (`UserService`)**:
    - æ–°å¢ `updateProfile(Long userId, String name, String avatar)`ã€‚
- **Controller (`UserController`)**:
    - æ–°å¢ `@PostMapping("/update")` (å¯¹åº”å‰ç«¯ `/api/user/update`)ã€‚

### 2. å‰ç«¯ C ç«¯å¼€å‘ (Frontend - Customer)
- **çŠ¶æ€ç®¡ç† (Pinia)**:
    - ç”±äºé¡¹ç›®ä¸­æš‚æ—  `userStore`ï¼Œå°†**æ–°å»º `src/stores/user.js`**ï¼Œå°è£… `userInfo` çš„è¯»å–å’Œæ›´æ–°é€»è¾‘ï¼Œç¡®ä¿å“åº”å¼æ›´æ–°ã€‚
- **é¡µé¢ (`views/Profile.vue`)**:
    - å¼•å…¥ `useUserStore` æ›¿ä»£ç›´æ¥è¯»å– `localStorage`ã€‚
    - æ·»åŠ â€œç¼–è¾‘èµ„æ–™â€æŒ‰é’®å’Œå¼¹çª—ã€‚
    - å®ç°å¤´åƒé€‰æ‹©å™¨ï¼ˆé¢„è®¾4-6ä¸ªå¯çˆ±å¤´åƒ URLï¼‰ã€‚
    - æäº¤ä¿®æ”¹åè°ƒç”¨ `userStore.updateUser(newData)` åŒæ­¥çŠ¶æ€ã€‚

## ğŸš€ æ‰§è¡Œé¡ºåº
1.  åç«¯ï¼šStep 16 Admin å¢åˆ æ”¹æŸ¥é€»è¾‘ã€‚
2.  åç«¯ï¼šStep 17 User èµ„æ–™æ›´æ–°é€»è¾‘ã€‚
3.  å‰ç«¯ï¼šStep 16 `AdminManager.vue` åŠè·¯ç”±èœå•ã€‚
4.  å‰ç«¯ï¼šStep 17 `user.js` Store åŠ `Profile.vue` æ”¹é€ ã€‚
5.  éªŒè¯ï¼šé‡å¯åç«¯ï¼Œæµ‹è¯•å…¨æµç¨‹ã€‚
