# 概述
- 目标：双击一个快捷方式，自动启动后端与前端，并同时打开两个浏览器页面：
  - 客户端（C端）：http://localhost:5173/
  - 店家端（B端后台）：http://localhost:5173/admin/login
- 约束：不修改任何后端/前端源码与数据库，仅新增脚本文件。

# 我将新增的文件
1. c:\Users\lmc\Desktop\LeYi_Snack_System\scripts\start-dev.ps1
- 启动后端与前端，检测前端就绪后自动打开“两页”。
- 支持参数：
  - -OnlyClient 仅打开 C端
  - -OnlyAdmin 仅打开 店家端
  - -NoBrowser 不自动打开浏览器

2. c:\Users\lmc\Desktop\LeYi_Snack_System\scripts\start-dev.bat
- 供你双击运行，内部调用 start-dev.ps1，并绕过执行策略。

3. （可选）c:\Users\lmc\Desktop\LeYi_Snack_System\scripts\stop-dev.ps1
- 一键停止前端(5173)与后端(8080)的进程。

4. （可选）桌面快捷方式
- 名称：启动零食店开发环境
- 目标：scripts\start-dev.bat（默认同时打开“两页”）

# start-dev.ps1 的行为设计
- 检查依赖：npm 与 mvn 是否可用；缺失时中文提示并退出。
- 打开两个独立终端：
  - 后端：powershell -NoExit，在 backend 执行 mvn spring-boot:run
  - 前端：powershell -NoExit，在 frontend 执行 npm run dev
- 前端就绪检测：每秒访问一次 http://localhost:5173/，最多等待 45 秒。
- 浏览器打开：
  - 默认同时打开 http://localhost:5173/ 与 http://localhost:5173/admin/login
  - 可按参数仅打开其中一个页面或不打开浏览器。
- 容错提示：
  - 5173 端口占用：提示关闭旧进程或改端口（给命令）
  - 后端未启动：仍打开前端，但终端提示“接口不可用”。

# 你以后怎么用（详细步骤）
- 方式 A（推荐）：桌面快捷方式
  1) 我会为你创建桌面图标“启动零食店开发环境”。
  2) 双击它 → 自动打开两个终端（后端与前端）→ 前端就绪后自动打开两页：C端与店家端。

- 方式 B：项目内双击
  1) 打开资源管理器，进入 c:\Users\lmc\Desktop\LeYi_Snack_System\scripts\
  2) 双击 start-dev.bat → 效果与方式 A 相同。

- 方式 C：命令行
  1) 打开 PowerShell
  2) cd c:\Users\lmc\Desktop\LeYi_Snack_System\scripts
  3) 执行：powershell -ExecutionPolicy Bypass -File .\start-dev.ps1
  4) 只开店家端：powershell -ExecutionPolicy Bypass -File .\start-dev.ps1 -OnlyAdmin
  5) 只开客户端：powershell -ExecutionPolicy Bypass -File .\start-dev.ps1 -OnlyClient

# 常见问题与解决
- 端口 5173 已被占用：脚本提示并给出关闭旧进程命令或改端口方案。
- 未安装 npm 或 Maven：终端中文提示你安装后再运行。
- 浏览器未自动打开：脚本使用默认浏览器，失败时回退到 Edge；也可使用 -NoBrowser。

# 实施步骤（我做）
1) 创建 scripts 目录
2) 编写 start-dev.ps1（按上面的行为）
3) 编写 start-dev.bat（双击入口）
4) （可选）编写 stop-dev.ps1
5) （可选）创建桌面快捷方式指向 start-dev.bat
6) 自测：正常、端口占用、后端未起、依赖缺失

# 不改动项
- 不改后端/前端源码与数据库；不引入新依赖

确认后我立即新增这些脚本与快捷方式，并进行本机验证；你之后只需双击桌面图标即可同时打开 C端与店家端。