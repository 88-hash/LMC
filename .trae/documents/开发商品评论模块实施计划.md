# 第15步：开发评价模块 (Step 15)

## 1. 后端开发 (Backend)
### 目标
基于现有的 `comment` 表 (`init.sql` 已定义)，实现评价的增删改查。

### 任务
1.  **创建 Entity (`Comment.java`)**：
    *   字段：`id`, `orderItemId`, `userPhone`, `rating`, `content`, `createdAt`。
    *   使用 Lombok `@Data`。
2.  **创建 Mapper (`CommentMapper`)**：
    *   XML 实现 `save`, `selectByGoodsId`, `selectByUserId`, `countByOrderItemId`。
3.  **创建 Service (`CommentService`)**：
    *   `addComment`: 校验订单状态 (`status=1`)，校验是否重复评价 (`countByOrderItemId > 0`)。
    *   `listByGoods`: 查询商品评价。
    *   `listByUser`: 查询用户评价。
4.  **创建 Controller (`CommentController`)**：
    *   `POST /api/comment/add`
    *   `GET /api/comment/list/goods`
    *   `GET /api/comment/list/user`

## 2. 前端 C 端开发 (Frontend - Customer)
### 目标
让用户能对已完成订单进行评价，并查看自己的历史评价。

### 任务
1.  **修改 `views/Order.vue`**：
    *   在订单卡片底部，若 `status === 1`，显示“去评价”按钮。
    *   跳转至 `/comment/add?orderId=xxx`。
2.  **创建 `views/CommentAdd.vue`**：
    *   加载订单详情。
    *   展示商品列表，每个商品下方提供评分 (`el-rate`) 和内容输入 (`el-input`)。
    *   提交时调用后端接口。
3.  **修改 `views/Profile.vue`**：
    *   新增菜单“我的评价”，跳转 `/profile/comments`。
4.  **创建 `views/MyComments.vue`**：
    *   调用 `/api/comment/list/user` 展示评价列表。

## 3. 前端 B 端展示 (Frontend - Admin)
### 目标
让管理员能查看商品的评价详情。

### 任务
1.  **修改 `views/admin/Goods.vue`**：
    *   表格操作列新增“查看评价”按钮。
    *   点击弹出 Drawer，展示该商品的评价列表。

## 4. 环境重启
*   重启后端 Spring Boot 应用。
*   刷新前端页面。

请确认执行此计划。